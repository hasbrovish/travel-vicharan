<div class="offers-filter-section">
  <div class="container">
    <!-- Filter Header -->
    <div class="filter-header" *ngIf="getActiveFilterCount() > 0">
      <span class="active-filters-badge">
        <i class="bi bi-funnel-fill"></i>
        {{ getActiveFilterCount() }} filter{{ getActiveFilterCount() > 1 ? 's' : '' }} active
      </span>
    </div>

    <div class="filter-container">

      <!-- Tags Filter -->
      <div class="filter-group">
        <label class="filter-label">Tags</label>
        <div class="filter-tags">
          <button
            class="tag-btn"
            [class.active]="selectedTag === 'India'"
            (click)="selectTag('India')">
            <i class="bi bi-geo-alt-fill"></i>
            India
          </button>
          <button
            class="tag-btn"
            [class.active]="selectedTag === 'World'"
            (click)="selectTag('World')">
            <i class="bi bi-globe-americas"></i>
            World
          </button>
        </div>
      </div>

      <!-- Price Range Filter -->
      <div class="filter-group">
        <label class="filter-label">Price Range</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedPriceRange"
          [(ngModel)]="selectedPriceRange"
          (change)="onFilterChange()">
          <option value="">All Prices</option>
          <option value="0-35000">Below ₹35,000</option>
          <option value="35000-50000">₹35,000 - ₹50,000</option>
          <option value="50000-100000">₹50,000 - ₹1L</option>
          <option value="100000-200000">₹1L - ₹2L</option>
          <option value="200000-300000">₹2L - ₹3L</option>
          <option value="300000+">₹3L & above</option>
        </select>
      </div>

      <!-- Duration Filter -->
      <div class="filter-group">
        <label class="filter-label">Duration</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedDuration"
          [(ngModel)]="selectedDuration"
          (change)="onFilterChange()">
          <option value="">All Durations</option>
          <option value="short">Short (1-3 days)</option>
          <option value="medium">Medium (4-7 days)</option>
          <option value="long">Long (8+ days)</option>
        </select>
      </div>

      <!-- Departure City Filter -->
      <div class="filter-group">
        <label class="filter-label">Departure City</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedDepartureCity"
          [(ngModel)]="selectedDepartureCity"
          (change)="onFilterChange()">
          <option value="">All Cities</option>
          <option value="Delhi">Delhi</option>
          <option value="Mumbai">Mumbai</option>
          <option value="Bangalore">Bangalore</option>
          <option value="Kolkata">Kolkata</option>
          <option value="Chennai">Chennai</option>
          <option value="Hyderabad">Hyderabad</option>
        </select>
      </div>

      <!-- Joining & Leaving Filter -->
      <div class="filter-group">
        <label class="filter-label">Joining & Leaving</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedJoiningLeaving"
          [(ngModel)]="selectedJoiningLeaving"
          (change)="onFilterChange()">
          <option value="">Any Location</option>
          <option value="same">Same City</option>
          <option value="different">Different Cities</option>
        </select>
      </div>

      <!-- Countries Filter (International only) -->
      <div class="filter-group">
        <label class="filter-label">Countries</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedCountry"
          [(ngModel)]="selectedCountry"
          (change)="onFilterChange()">
          <option value="">All Countries</option>
          <option value="Thailand">Thailand</option>
          <option value="Singapore">Singapore</option>
          <option value="Dubai">Dubai (UAE)</option>
        </select>
      </div>

      <!-- Cities Filter -->
      <div class="filter-group">
        <label class="filter-label">Destination Cities</label>
        <select
          class="filter-select"
          [class.filter-active]="selectedCity"
          [(ngModel)]="selectedCity"
          (change)="onFilterChange()">
          <option value="">All Cities</option>
          <optgroup label="India">
            <option value="Srinagar">Srinagar</option>
            <option value="Gulmarg">Gulmarg</option>
            <option value="Pahalgam">Pahalgam</option>
            <option value="Jaipur">Jaipur</option>
            <option value="Udaipur">Udaipur</option>
            <option value="Jodhpur">Jodhpur</option>
          </optgroup>
          <optgroup label="International">
            <option value="Bangkok">Bangkok</option>
            <option value="Pattaya">Pattaya</option>
            <option value="Dubai">Dubai</option>
            <option value="Singapore">Singapore</option>
          </optgroup>
        </select>
      </div>

      <!-- Depart Between Dates Filter -->
      <div class="filter-group date-range-group">
        <label class="filter-label">Depart Between</label>
        <div class="date-inputs">
          <input
            type="date"
            class="filter-date"
            [class.filter-active]="departStartDate"
            [(ngModel)]="departStartDate"
            (change)="onFilterChange()"
            placeholder="Start Date">
          <span class="date-separator">to</span>
          <input
            type="date"
            class="filter-date"
            [class.filter-active]="departEndDate"
            [(ngModel)]="departEndDate"
            (change)="onFilterChange()"
            placeholder="End Date">
        </div>
      </div>

      <!-- Clear Filters Button -->
      <div class="filter-actions">
        <button class="clear-filters-btn" (click)="clearFilters()">
          <i class="bi bi-x-circle"></i>
          Clear All
        </button>
      </div>

    </div>
  </div>
</div>

<section class="hero-carousel-section" 
         *ngIf="!loading && currentHeroSlide"
         (mouseenter)="pauseAutoScroll()"
         (mouseleave)="resumeAutoScroll()"
         (keydown)="handleKeydown($event)"
         tabindex="0"
         role="region"
         aria-label="Hero carousel">
  <div class="hero-carousel-fullwidth">
    <div class="hero-carousel-container" [@fadeSlideUp]>
      <!-- Left: Hero Card -->
      <div 
        class="hero-card"
        [@heroSlide]="currentHeroIndex">
        <div class="hero-background" 
             [style.background-image]="'url(' + currentHeroSlide.backgroundImage + ')'"
             [attr.aria-label]="currentHeroSlide.title">
          <div class="hero-overlay"></div>
          <div class="hero-parallax-layer"></div>
        </div>
        
        <div class="hero-content">
          <!-- Brand Promise Line -->
          <p class="hero-brand-promise" [@fadeIn]="currentHeroIndex">
            <span class="emoji-sparkle">âœ¨</span> Thoughtfully planned journeys, beautifully executed
          </p>
          
          <!-- Title -->
          <h1 class="hero-title" [@fadeSlideIn]="currentHeroIndex">
            {{ currentHeroSlide.title }}
          </h1>
          
          <!-- Subtitle -->
          <p class="hero-subtitle" 
             *ngIf="currentHeroSlide.subtitle"
             [@fadeSlideIn]="currentHeroIndex">
            {{ currentHeroSlide.subtitle }}
          </p>
          
          <!-- Price Badge -->
          <div class="hero-price-badge">
            <span class="price-label">{{ currentHeroSlide.priceLabel || 'Starting from' }}</span>
            <span class="price-amount">{{ formatPrice(currentHeroSlide.price) }}</span>
          </div>
          
          <!-- Primary CTA Button -->
          <a
            [routerLink]="currentHeroSlide.ctaLink || '/packages'"
            class="btn btn-hero-cta btn-primary-cta">
            {{ currentHeroSlide.ctaText || 'Explore Now' }}
            <i class="bi bi-arrow-right ms-2"></i>
          </a>
        </div>
        
        <!-- Navigation Arrows -->
        <button
          class="hero-nav hero-nav-prev"
          (click)="prevHeroSlide()"
          *ngIf="heroSlides.length > 1"
          aria-label="Previous slide">
          <i class="bi bi-chevron-left"></i>
        </button>
        
        <button
          class="hero-nav hero-nav-next"
          (click)="nextHeroSlide()"
          *ngIf="heroSlides.length > 1"
          aria-label="Next slide">
          <i class="bi bi-chevron-right"></i>
        </button>

        <!-- Carousel Indicators with Progress -->
        <div class="hero-indicators" *ngIf="heroSlides.length > 1">
          <button
            *ngFor="let slide of heroSlides; let i = index"
            class="indicator-dot"
            [class.active]="i === currentHeroIndex"
            (click)="goToHeroSlide(i)"
            [attr.aria-label]="'Go to slide ' + (i + 1)"
            [attr.aria-current]="i === currentHeroIndex ? 'true' : 'false'">
            <span class="indicator-progress" *ngIf="i === currentHeroIndex && !isPaused"></span>
          </button>
        </div>
      </div>
      
      <!-- Right: Category Cards Grid (2 Rows) -->
      <div class="category-grid-section">
        <div class="category-grid">
          <div 
            *ngFor="let category of categories; let i = index" 
            class="category-card-premium"
            [routerLink]="'/packages'"
            [queryParams]="{destination: category.name}">
            <div class="category-image-wrapper">
              <img [src]="category.imageUrl" 
                   [alt]="category.name" 
                   class="category-image"
                   loading="lazy"
                   [attr.fetchpriority]="i === 0 ? 'high' : 'low'">
              <div class="category-overlay"></div>
            </div>
            <div class="category-content">
              <h3 class="category-name">{{ category.name }}</h3>
              <div class="category-stats">
                <div class="stat-item">
                  <span class="stat-value">{{ category.stats.tours }}</span>
                  <span class="stat-label">tours</span>
                </div>
                <span class="stat-divider">|</span>
                <div class="stat-item">
                  <span class="stat-value">{{ category.stats.departures }}</span>
                  <span class="stat-label">departures</span>
                </div>
              </div>
              <div class="category-guests">
                <span class="guests-value">{{ formatNumber(category.stats.guests) }}</span>
                <span class="guests-label">guests travelled</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Loading State -->
<div class="hero-carousel-section loading-state" *ngIf="loading">
  <div class="container">
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
</div>

